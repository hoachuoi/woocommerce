"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,o){var t,n,r,a,_="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(_)return n=!(t=!0),{s:function(){_=_.call(e)},n:function(){var e=_.next();return t=e.done,e},e:function(e){n=!0,r=e},f:function(){try{t||null==_.return||_.return()}finally{if(n)throw r}}};if(Array.isArray(e)||(_=_unsupportedIterableToArray(e))||o&&e&&"number"==typeof e.length)return _&&(e=_),a=0,{s:o=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,o){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,o):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,o):void 0}function _arrayLikeToArray(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}!function(O){window.ehfb={init:function(){this.builderGridContentFlag=!1,this.updateGridDelay=200,this.currentDevice="desktop",this.currentArea="header",this.currentRowInput="",this.currentRow="",this.currentColumn="",this.currentColumnPos="",this.currentComponent="",this.currentBuilder="",this.currentBuilderType="",this.componentsOrder="",this.addBodyClass(),this.preventEmptyRowValues(),this.customizeNavigation(),this.elementsPopup(),this.elementsButton(),this.storeGlobals(),this.devicesSwitcher(),this.elementsPopupContent(),this.builderGridContent(),this.elementsSortable(),this.builderCustomColumns(),this.builderColumnsLayout(),this.footerCustomizerOptions(),this.headerPresets(),this.extraNavigation(),this.showHideBuilder(),this.showHideBuilderTop()},jsonDecode:function(e){return JSON.parse(e.replace(/'/g,'"').replace(";",""))},addBodyClass:function(){O("body").addClass("has-ehfb-builder")},preventEmptyRowValues:function(){for(var e=["above","main","below"],o=0,t=["header","footer"];o<t.length;o++){var n,r=t[o],a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var _=n.value;""==O("#_customize-input-emoza_"+r+"_row__"+_+"_"+r+"_row").val()&&O("#_customize-input-emoza_"+r+"_row__"+_+"_"+r+"_row").val(emoza_hfb.rows.defaults[_+"_"+r+"_row"])}}catch(e){a.e(e)}finally{a.f()}}""==O("#_customize-input-emoza_header_row__mobile_offcanvas").val()&&O("#_customize-input-emoza_header_row__mobile_offcanvas").val(emoza_hfb.rows.defaults.mobile_offcanvas)},customizeNavigation:function(){void 0!==wp.customize.section("emoza_section_fb_wrapper")&&(O("#accordion-panel-emoza_panel_header").on("click keyup",function(e){if(e.keyCode&&13!==e.keyCode)return!1;e.preventDefault(),wp.customize.section("emoza_section_hb_wrapper").focus()}),O("#accordion-panel-emoza_panel_footer").on("click keyup",function(e){if(e.keyCode&&13!==e.keyCode)return!1;e.preventDefault(),wp.customize.section("emoza_section_fb_wrapper").focus()}));for(var o=["sub-accordion-section-emoza_section_hb_presets","sub-accordion-section-emoza_section_hb_above_header_row","sub-accordion-section-emoza_section_hb_main_header_row","sub-accordion-section-emoza_section_hb_below_header_row","sub-accordion-section-emoza_section_hb_mobile_offcanvas","sub-accordion-section-header_image","sub-accordion-section-emoza_section_hb_component__logo","sub-accordion-section-emoza_section_hb_component__search","sub-accordion-section-emoza_section_hb_component__social","sub-accordion-section-emoza_section_hb_component__menu","sub-accordion-section-emoza_section_hb_component__secondary_menu","sub-accordion-section-emoza_section_hb_component__contact_info","sub-accordion-section-emoza_section_hb_component__button","sub-accordion-section-emoza_section_hb_component__button2","sub-accordion-section-emoza_section_hb_component__html","sub-accordion-section-emoza_section_hb_component__html2","sub-accordion-section-emoza_section_hb_component__shortcode","sub-accordion-section-emoza_section_hb_component__shortcode2","sub-accordion-section-emoza_section_hb_component__shortcode3","sub-accordion-section-emoza_section_hb_component__login_register","sub-accordion-section-emoza_section_hb_component__woo_icons","sub-accordion-section-emoza_section_hb_component__pll_switcher","sub-accordion-section-emoza_section_hb_component__wpml_switcher","sub-accordion-section-emoza_section_hb_component__mobile_offcanvas_menu","sub-accordion-section-emoza_section_hb_component__mobile_hamburger","sub-accordion-section-emoza_section_fb_above_footer_row","sub-accordion-section-emoza_section_fb_main_footer_row","sub-accordion-section-emoza_section_fb_below_footer_row","sub-accordion-section-emoza_section_fb_component__footer_menu","sub-accordion-section-emoza_section_fb_component__copyright","sub-accordion-section-emoza_section_fb_component__social","sub-accordion-section-emoza_section_fb_component__button","sub-accordion-section-emoza_section_fb_component__button2","sub-accordion-section-emoza_section_fb_component__html","sub-accordion-section-emoza_section_fb_component__html2","sub-accordion-section-emoza_section_fb_component__shortcode","sub-accordion-section-emoza_section_fb_component__widget1","sub-accordion-section-emoza_section_fb_component__widget2","sub-accordion-section-emoza_section_fb_component__widget3","sub-accordion-section-emoza_section_fb_component__widget4"],e=0,t=["above","main","below"];e<t.length;e++)for(var n=t[e],r=1;r<=6;r++)o.push("sub-accordion-section-emoza_header_row__"+n+"_header_row_column"+r),o.push("sub-accordion-section-emoza_footer_row__"+n+"_footer_row_column"+r);var a="";O(document).on("mouseover focus",".customize-section-back",function(e){a=O(".control-section.open").attr("id")}),O(document).on("click keydown",".customize-section-back",function(e){return(!e.keyCode||13===e.keyCode||27===e.keyCode)&&(o.includes(a)?-1!==a.indexOf("above_header_row_column")?(wp.customize.section("emoza_section_hb_above_header_row").focus(),!1):-1!==a.indexOf("main_header_row_column")?(wp.customize.section("emoza_section_hb_main_header_row").focus(),!1):-1!==a.indexOf("below_header_row_column")?(wp.customize.section("emoza_section_hb_below_header_row").focus(),!1):-1!==a.indexOf("above_footer_row_column")?(wp.customize.section("emoza_section_fb_above_footer_row").focus(),!1):-1!==a.indexOf("main_footer_row_column")?(wp.customize.section("emoza_section_fb_main_footer_row").focus(),!1):-1!==a.indexOf("below_footer_row_column")?(wp.customize.section("emoza_section_fb_below_footer_row").focus(),!1):void(-1!==a.indexOf("_hb_")||-1!==a.indexOf("_header_")||-1!==a.indexOf("header_image")?wp.customize.section("emoza_section_hb_wrapper"):wp.customize.section("emoza_section_fb_wrapper")).focus():void 0)})},storeGlobals:function(){var o=this;O(".wp-full-overlay-footer .devices button, .emoza-devices-preview button").on("click",function(){var e=O(this).attr("data-device");"tablet"===e&&(e="mobile"),"footer"===o.currentBuilderType&&(e="desktop"),o.currentDevice=e,o.builderGridContent()}),O(document).on("click mouseover",".emoza-ehfb-area:not(.ehfb-available-components)",function(e){if(O("#emoza-ehfb-elements").hasClass("show"))return!1;o.currentRowInput=O("#_customize-input-emoza_"+o.currentBuilderType+"_row__"+O(this).data("ehfb-row")),o.currentRow=O(this).closest(".emoza-ehfb-row"),o.currentColumnPos=O(this).index()-1,o.currentColumn=O(this),!o.currentRow.length&&O(this).hasClass("emoza-ehfb-area-offcanvas")&&(o.currentRowInput=O("#_customize-input-emoza_header_row__mobile_offcanvas"),o.currentRow=O(".emoza-ehfb-area-offcanvas"),o.currentColumnPos=O(this).index())}),O(document).on("click mouseover",".ehfb-button",function(e){o.currentComponent=O(this).data("ehfb-id")})},devicesSwitcher:function(){O(" .wp-full-overlay-footer .devices button, .emoza-devices-preview button").on("click",function(){var e=O(this).attr("data-device");"mobile"===e&&(e="tablet"),O(".emoza-ehfb-devices .emoza-ehfb-device-link").removeClass("active"),O('.emoza-ehfb-devices .emoza-ehfb-device-link[data-device="'+e+'"]').addClass("active")}),O(".emoza-ehfb-devices .emoza-ehfb-device-link").on("click",function(e){e.preventDefault();e=O(this).attr("data-device");O(' .wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})},getElementsUnused:function(){var e=emoza_hfb.components.desktop,t=emoza_hfb.components.mobile,o=["#_customize-input-emoza_header_row__above_header_row","#_customize-input-emoza_header_row__main_header_row","#_customize-input-emoza_header_row__below_header_row","#_customize-input-emoza_header_row__mobile_offcanvas"];"footer"===this.currentBuilderType&&(e=emoza_hfb.components.footer,o=["#_customize-input-emoza_footer_row__above_footer_row","#_customize-input-emoza_footer_row__main_footer_row","#_customize-input-emoza_footer_row__below_footer_row"]);for(var n=0,r=o;n<r.length;n++){var a,_=r[n],i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){a.value;var c=this.jsonDecode(O(_).val());if(c.desktop.length){var s,l=_createForOfIteratorHelper(c.desktop);try{for(l.s();!(s=l.n()).done;)!function(){var o=s.value;e=e.filter(function(e){return!o.includes(e.id)})}()}catch(e){l.e(e)}finally{l.f()}}}}catch(e){i.e(e)}finally{i.f()}var m,u=_createForOfIteratorHelper(t);try{for(u.s();!(m=u.n()).done;){m.value;var d=this.jsonDecode(O(_).val());if(d.mobile.length){var h,f=_createForOfIteratorHelper(d.mobile);try{for(f.s();!(h=f.n()).done;)!function(){var o=h.value;t=t.filter(function(e){return!o.includes(e.id)})}()}catch(e){f.e(e)}finally{f.f()}}if(-1!==_.indexOf("row__mobile_offcanvas")&&d.mobile_offcanvas.length){var p,b=_createForOfIteratorHelper(d.mobile_offcanvas);try{for(b.s();!(p=b.n()).done;)!function(){var o=p.value;t=t.filter(function(e){return!o.includes(e.id)})}()}catch(e){b.e(e)}finally{b.f()}}}}catch(e){u.e(e)}finally{u.f()}}return{desktop:e,mobile:t}},elementsPopup:function(){var r=this;O(document).on("click",".emoza-ehfb-area:not(.ehfb-available-components)",function(e){var o=r.currentBuilder.find("#emoza-ehfb-elements"),t=O(this)[0].getBoundingClientRect(),n=O(this).data("ehfb-row");setTimeout(function(){if(o.css("top",0),o.css("left",t.left),o.css("top",t.top-(o.height()+50)),r.isElementInViewport(o)?(o.css("left",t.left),o.css("right","auto")):(o.css("left","auto"),o.css("right",25)),e.target.classList.contains("ehfb-remove-element")||e.target.classList.contains("ehfb-button"))return!1;o.addClass("show")},200),r.elementsPopupContent(n),r.builderGridContent()}),O("#customize-preview iframe").on("mouseup",function(e){if(!r.currentBuilder)return!1;r.closeElementsPopup(e)}),O(document).on("mouseup",function(e){if(!r.currentBuilder)return!1;r.closeElementsPopup(e)})},closeElementsPopup:function(e){var o=this.currentBuilder.find("#emoza-ehfb-elements");null===e.target.closest("#emoza-ehfb-elements")&&o.removeClass("show")},isElementInViewport:function(e){e=(e="function"==typeof jQuery&&e instanceof jQuery?e[0]:e).getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||O(window).height())&&e.right<=(window.innerWidth||O(window).width())},elementsPopupContent:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=this.getElementsUnused(),t=O(".emoza-ehfb-elements-desktop"),n=O(".emoza-ehfb-elements-mobile"),r=(t.html(""),n.html(""),"hb");if(this.currentBuilderType&&"footer"===this.currentBuilderType&&(r="fb"),o.desktop.length){var a,_=_createForOfIteratorHelper(o.desktop);try{for(_.s();!(a=_.n()).done;){var i=a.value;t.append('<div class="emoza-ehfb-element emoza-ehfb-element-desktop"><a href="#" class="ehfb-button" data-ehfb-id="'+i.id+'" data-ehfb-focus-section="emoza_section_'+r+"_component__"+i.id+'">'+i.label+"</a></div>")}}catch(e){_.e(e)}finally{_.f()}}else t.append('<p class="ehfb-elements-message">'+emoza_hfb.i18n.elementsMessage+"</p>");if(o.mobile="mobile_offcanvas"!==e?o.mobile.filter(function(e){return"mobile_offcanvas_menu"!==e.id}):o.mobile.filter(function(e){return"secondary_menu"!==e.id&&"mobile_hamburger"!==e.id}),o.mobile.length){var c,s=_createForOfIteratorHelper(o.mobile);try{for(s.s();!(c=s.n()).done;){var l=c.value;n.append('<div class="emoza-ehfb-element emoza-ehfb-element-mobile"><a href="#" class="ehfb-button" data-ehfb-id="'+l.id+'" data-ehfb-focus-section="emoza_section_'+r+"_component__"+l.id+'">'+l.label+"</a></div>")}}catch(e){s.e(e)}finally{s.f()}}else n.append('<p class="ehfb-elements-message">'+emoza_hfb.i18n.elementsMessage+"</p>");this.addUpsellComponents()},updateAvailableComponents:function(){"header"===this.currentBuilderType&&(O(".emoza-header-builder-available-components").html(""),O(".emoza-header-builder-available-components").html(O(".emoza-ehfb-header .emoza-ehfb-elements-desktop").html()),O(".emoza-header-builder-available-mobile-components").html(""),O(".emoza-header-builder-available-mobile-components").html(O(".emoza-ehfb-header .emoza-ehfb-elements-mobile").html())),"footer"===this.currentBuilderType&&(O(".emoza-footer-builder-available-footer-components").html(""),O(".emoza-footer-builder-available-footer-components").html(O(".emoza-ehfb-footer .emoza-ehfb-elements-desktop").html()))},addUpsellComponents:function(){if(!emoza_hfb.upsell_components.enable)return!1;var e,o="",t=_createForOfIteratorHelper("header"===this.currentBuilderType?emoza_hfb.upsell_components.header:emoza_hfb.upsell_components.footer);try{for(t.s();!(e=t.n()).done;){var n=e.value;o+='\n                    <div class="emoza-ehfb-element emoza-ehfb-element-desktop">\n                        <a href="#" class="ehfb-button">'.concat(n.label,"</a> \n                    </div>\n                ")}}catch(e){t.e(e)}finally{t.f()}var r='\n                <div class="emoza-ehfb-upsell-components-wrapper">\n                    <h4>'.concat(emoza_hfb.upsell_components.title,'</h4>\n                    <div class="emoza-ehfb-upsell-components">').concat(o,"</div>\n                    <p>").concat(emoza_hfb.upsell_components.total,'</p>\n                    <a href="').concat(emoza_hfb.upsell_components.link,'" target="_blank" class="ehfb-upsell-button">').concat(emoza_hfb.upsell_components.button,"</a>\n                </div>\n            ");O("#emoza-ehfb-elements .emoza-ehfb-elements-wrapper .emoza-ehfb-upsell-components-wrapper").remove(),O("#emoza-ehfb-elements .emoza-ehfb-elements-wrapper").append(r)},elementsButton:function(){var n=this;O(document).on("click",".emoza-ehfb-element > a",function(e){e.preventDefault(),e.stopPropagation();var o=O(this).data("ehfb-id"),t=O(this).data("ehfb-focus-section");if(O(this).closest("#emoza-ehfb-elements").length)n.elementsButtonAdd(o),n.currentBuilder.find("#emoza-ehfb-elements").removeClass("show");else if(e.target.classList.contains("ehfb-remove-element"))return n.elementsButtonRemove(o),!1;setTimeout(function(){wp.customize.section(t).focus()},n.updateGridDelay)})},elementsButtonAdd:function(e){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=this,n=t.jsonDecode(t.currentRowInput.val()),r=t.currentDevice;return"mobile"===t.currentDevice&&t.currentRow.hasClass("emoza-ehfb-area-offcanvas")&&(r="mobile_offcanvas"),o?n[r][t.currentColumnPos]=t.componentsOrder:n[r][t.currentColumnPos].push(e),!("mobile_offcanvas_menu"===t.currentComponent&&!t.currentRow.hasClass("emoza-ehfb-area-offcanvas")||"mobile_hamburger"===t.currentComponent&&t.currentRow.hasClass("emoza-ehfb-area-offcanvas"))&&(t.currentRowInput.val(JSON.stringify(n)),t.currentRowInput.trigger("change"),"header"===t.currentBuilderType&&t.currentRowInput.closest(".customize-control").next().find("input").val(Math.random()).trigger("change"),t.elementsPopupContent(),t.builderGridContent(),void O("#emoza-ehfb-elements").removeClass("show"))},elementsButtonRemove:function(o){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this,n=t.jsonDecode(t.currentRowInput.val()),r=t.currentDevice;n[r="mobile"===t.currentDevice&&t.currentRow.hasClass("emoza-ehfb-area-offcanvas")?"mobile_offcanvas":r][t.currentColumnPos]=n[r][t.currentColumnPos].filter(function(e){return e!==o}),t.currentRowInput.val(JSON.stringify(n)),e&&(t.currentRowInput.trigger("change"),t.currentRowInput.closest(".customize-control").next().find("input").val(Math.random()).trigger("change")),t.elementsPopupContent(),t.builderGridContent()},elementsSortable:function(){var i=this;O(".emoza-ehfb-area").each(function(){O(this).sortable({placeholder:"emoza-ehfb-element ehfb-ui-state-highlight",connectWith:".emoza-ehfb-area",scroll:!1,cancel:".ehfb-edit-column",change:function(e,o){i.currentComponent=O(o.item[0]).find(".ehfb-button").data("ehfb-id"),i.currentRow=O(o.placeholder[0]).closest(".emoza-ehfb-row").length?O(o.placeholder[0]).closest(".emoza-ehfb-row"):O(o.placeholder[0]).closest(".emoza-ehfb-area-offcanvas"),i.currentRowInput=O("#_customize-input-emoza_"+i.currentBuilderType+"_row__"+o.placeholder.closest(".emoza-ehfb-area").data("ehfb-row"));var t=[];o.placeholder.closest(".emoza-ehfb-area").find(".ui-sortable-placeholder").attr("data-ehfb-id",i.currentComponent),o.placeholder.closest(".emoza-ehfb-area").find(".emoza-ehfb-element").each(function(){var e=(void 0!==O(this).find(".ehfb-button").data("ehfb-id")?O(this).find(".ehfb-button"):O(this)).data("ehfb-id");O(this).hasClass("ui-sortable-helper")||t.push(e)}),i.componentsOrder=t},update:function(e,o){if(this===o.item.parent()[0]){var t=o.item.find("> .ehfb-button").data("ehfb-id"),n=o.item.closest(".emoza-ehfb-area").data("ehfb-row"),r=o.item.closest(".emoza-ehfb-area").index()-1,a=null!==o.sender?o.sender.data("ehfb-row"):null,_=null!==o.sender?o.sender.index()-1:null;if(null===o.sender)return i.elementsButtonAdd("",!0),!1;o.sender.hasClass("ehfb-available-components")||(i.currentRowInput=O("#_customize-input-emoza_"+i.currentBuilderType+"_row__"+a)),i.currentColumnPos=_,i.elementsButtonRemove(t,!0),o.sender.hasClass("ehfb-available-components")||(i.currentRowInput=O("#_customize-input-emoza_"+i.currentBuilderType+"_row__"+n)),i.currentColumnPos=r,i.elementsButtonAdd(t,!0)}}}),O(this).disableSelection()})},builderGridContent:function(){var k=this,B=["#_customize-input-emoza_header_row__above_header_row","#_customize-input-emoza_header_row__main_header_row","#_customize-input-emoza_header_row__below_header_row","#_customize-input-emoza_header_row__mobile_offcanvas"],T="hb";if(k.currentBuilderType&&"footer"===k.currentBuilderType&&(B=["#_customize-input-emoza_footer_row__above_footer_row","#_customize-input-emoza_footer_row__main_footer_row","#_customize-input-emoza_footer_row__below_footer_row"],T="fb"),k.builderGridContentFlag)return!1;k.builderGridContentFlag=!0,setTimeout(function(){for(var e=0,o=B;e<o.length;e++){var t=o[e],n=k.jsonDecode(O(t).val()),r="";if(-1!==t.indexOf("above_"+k.currentBuilderType+"_row")&&(r="above"),-1!==t.indexOf("main_"+k.currentBuilderType+"_row")&&(r="main"),-1!==t.indexOf("below_"+k.currentBuilderType+"_row")&&(r="below"),-1!==t.indexOf("row__mobile_offcanvas")&&(r="mobile_offcanvas"),O('.emoza-ehfb-area[data-ehfb-row="'+r+"_"+k.currentBuilderType+'_row"]').each(function(){O(this).remove()}),"desktop"===k.currentDevice){var a,_=1,i=_createForOfIteratorHelper(n.desktop);try{for(i.s();!(a=i.n()).done;){var c=a.value,s=(O(".emoza-ehfb-"+k.currentBuilderType+" .emoza-ehfb-"+r+"-row").append('<div class="emoza-ehfb-area" data-ehfb-row="'+r+"_"+k.currentBuilderType+'_row"><a class="ehfb-edit-column" href="#" onClick="event.stopPropagation(); wp.customize.section(\'emoza_'+k.currentBuilderType+"_row__"+r+"_"+k.currentBuilderType+"_row_column"+_+'\').focus();"><svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="2" height="15" fill="#FFF"/><rect x="7" width="2" height="15" fill="#FFF"/><rect y="3" width="3" height="16" transform="rotate(-90 0 3)" fill="#FFF"/><rect y="15" width="2" height="16" transform="rotate(-90 0 15)" fill="#FFF"/><rect x="14" width="2" height="15" fill="#FFF"/></svg></a>'),O(".emoza-ehfb-"+r+"-row").find(".emoza-ehfb-area:last-child"));if(c.length){var l,m=_createForOfIteratorHelper(c);try{for(m.s();!(l=m.n()).done;){var u=l.value;"object"===_typeof(u=k.getElementData(u))&&s.append('<div class="emoza-ehfb-element"><a href="#" class="ehfb-button" data-ehfb-id="'+u.id+'" data-ehfb-focus-section="emoza_section_'+T+"_component__"+u.id+'"><span class="ehfb-title-element">'+u.label+'</span><i class="ehfb-edit-element dashicons dashicons-admin-generic"></i><i class="ehfb-remove-element dashicons dashicons-no-alt"></i></a></div>')}}catch(e){m.e(e)}finally{m.f()}}_++}}catch(e){i.e(e)}finally{i.f()}}if("mobile"===k.currentDevice){var d,h=1,f=_createForOfIteratorHelper(n.mobile);try{for(f.s();!(d=f.n()).done;){var p=d.value,b=(O(".emoza-ehfb-"+r+"-row").append('<div class="emoza-ehfb-area" data-ehfb-row="'+r+"_"+k.currentBuilderType+'_row"><a class="ehfb-edit-column" href="#" onClick="event.stopPropagation(); wp.customize.section(\'emoza_'+k.currentBuilderType+"_row__"+r+"_"+k.currentBuilderType+"_row_column"+h+'\').focus();"><svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="2" height="15" fill="#FFF"/><rect x="7" width="2" height="15" fill="#FFF"/><rect y="3" width="3" height="16" transform="rotate(-90 0 3)" fill="#FFF"/><rect y="15" width="2" height="16" transform="rotate(-90 0 15)" fill="#FFF"/><rect x="14" width="2" height="15" fill="#FFF"/></svg></a>'),O(".emoza-ehfb-"+r+"-row").find(".emoza-ehfb-area:last-child"));if(p.length){var w,z=_createForOfIteratorHelper(p);try{for(z.s();!(w=z.n()).done;){var v=w.value;"object"===_typeof(v=k.getElementData(v))&&b.append('<div class="emoza-ehfb-element"><a href="#" class="ehfb-button" data-ehfb-id="'+v.id+'" data-ehfb-focus-section="emoza_section_'+T+"_component__"+v.id+'"><span class="ehfb-title-element">'+v.label+'</span><i class="ehfb-edit-element dashicons dashicons-admin-generic"></i><i class="ehfb-remove-element dashicons dashicons-no-alt"></i></a></div>')}}catch(e){z.e(e)}finally{z.f()}}h++}}catch(e){f.e(e)}finally{f.f()}if(-1!==t.indexOf("mobile_offcanvas")&&(O(".emoza-ehfb-area-offcanvas").html(""),n.mobile_offcanvas.length)){var g,y=_createForOfIteratorHelper(n.mobile_offcanvas[0]);try{for(y.s();!(g=y.n()).done;){var C=g.value;"object"===_typeof(C=k.getElementData(C))&&O(".emoza-ehfb-area-offcanvas").append('<div class="emoza-ehfb-element"><a href="#" class="ehfb-button" data-ehfb-id="'+C.id+'" data-ehfb-focus-section="emoza_section_hb_component__'+C.id+'"><span class="ehfb-title-element">'+C.label+'</span><i class="ehfb-edit-element dashicons dashicons-admin-generic"></i><i class="ehfb-remove-element dashicons dashicons-no-alt"></i></a></div>')}}catch(e){y.e(e)}finally{y.f()}}}}if(!k.currentBuilder)return k.builderGridContentFlag=!1;k.currentBuilder.hasClass("show")&&!k.currentBuilder.hasClass("show-bottom")?(O(".emoza-ehfb").css("height",0),k.currentBuilder.css("height",k.currentBuilder.find(".emoza-ehfb-top").outerHeight()+47)):k.currentBuilder.css("height",0),k.updateAvailableComponents(),k.elementsSortable(),O(window).trigger("ehfb.grid.ready"),k.builderGridContentFlag=!1},k.updateGridDelay)},getElementData:function(e){var o,t=[].concat(_toConsumableArray(emoza_hfb.components.desktop),_toConsumableArray(emoza_hfb.components.mobile)),n=_createForOfIteratorHelper(t="footer"===this.currentBuilderType?emoza_hfb.components.footer:t);try{for(n.s();!(o=n.n()).done;){var r=o.value;if(r.id===e)return r}}catch(e){n.e(e)}finally{n.f()}return""},showHideBuilder:function(){for(var t=this,e=["emoza_section_hb_wrapper","emoza_section_hb_presets","emoza_section_hb_above_header_row","emoza_section_hb_main_header_row","emoza_section_hb_below_header_row","emoza_section_hb_mobile_offcanvas","header_image","emoza_section_hb_component__logo","emoza_section_hb_component__search","emoza_section_hb_component__social","emoza_section_hb_component__menu","emoza_section_hb_component__secondary_menu","emoza_section_hb_component__contact_info","emoza_section_hb_component__button","emoza_section_hb_component__button2","emoza_section_hb_component__html","emoza_section_hb_component__html2","emoza_section_hb_component__shortcode","emoza_section_hb_component__shortcode2","emoza_section_hb_component__shortcode3","emoza_section_hb_component__login_register","emoza_section_hb_component__woo_icons","emoza_section_hb_component__pll_switcher","emoza_section_hb_component__wpml_switcher","emoza_section_hb_component__mobile_offcanvas_menu","emoza_section_hb_component__mobile_hamburger","emoza_section_fb_wrapper","emoza_section_fb_above_footer_row","emoza_section_fb_main_footer_row","emoza_section_fb_below_footer_row","emoza_section_fb_component__social","emoza_section_fb_component__footer_menu","emoza_section_fb_component__copyright","emoza_section_fb_component__button","emoza_section_fb_component__button2","emoza_section_fb_component__html","emoza_section_fb_component__html2","emoza_section_fb_component__shortcode","emoza_section_fb_component__widget1","emoza_section_fb_component__widget2","emoza_section_fb_component__widget3","emoza_section_fb_component__widget4"],o=0,n=["above","main","below"];o<n.length;o++)for(var r=n[o],a=1;a<=6;a++)e.push("emoza_header_row__"+r+"_header_row_column"+a),e.push("emoza_footer_row__"+r+"_footer_row_column"+a);e.forEach(function(o){void 0!==wp.customize.section(o)&&wp.customize.section(o).expanded.bind(function(e){t.currentBuilder=t.getCurrentBuilderByComponent(o),t.currentBuilderType=t.currentBuilder.hasClass("emoza-ehfb-header")?"header":"footer",e?(O("body").addClass("ehfb-active"),t.currentBuilder.addClass("show"),t.scrollToRespectiveBuilderArea()):(O("body").removeClass("ehfb-active"),t.currentBuilder.removeClass("show")),setTimeout(function(){t.builderGridContent(),"emoza_section_hb_wrapper"!==o&&"emoza_section_fb_wrapper"!==o||(t.updateAvailableComponents(),setTimeout(function(){O(".emoza-ehfb-elements").removeClass("show")},200))},100)})})},scrollToRespectiveBuilderArea:function(){var e=document.querySelector("#customize-preview > iframe"),e=e?e.contentWindow.document.getElementsByTagName("html")[0]:null,o="header"===this.currentBuilderType?0:99999;if(null===e)return!1;O(e).animate({scrollTop:o},"fast")},getCurrentBuilderByComponent:function(e){return-1!==e.indexOf("_hb_")||-1!==e.indexOf("_header_")||-1!==e.indexOf("header_image")?O(".emoza-ehfb-header"):(-1!==e.indexOf("_fb_")||-1!==e.indexOf("_footer_"))&&O(".emoza-ehfb-footer")},showHideBuilderTop:function(){var o=this;O(".emoza-ehfb-bottom-display").on("click",function(e){e.preventDefault(),O("body").toggleClass("ehfb-active-bottom"),O(this).toggleClass("show"),O(".emoza-ehfb-top").toggleClass("show"),O(".emoza-ehfb").toggleClass("show-bottom"),o.builderGridContent()})},builderCustomColumns:function(){for(var m=this,e=(["emoza_header_row__above_header_row_columns","emoza_header_row__main_header_row_columns","emoza_header_row__below_header_row_columns","emoza_footer_row__above_footer_row_columns_desktop","emoza_footer_row__main_footer_row_columns_desktop","emoza_footer_row__below_footer_row_columns_desktop"].forEach(function(l){if(void 0!==wp.customize.control(l))for(var e=-1!==l.indexOf("header")?["desktop","tablet"]:["desktop"],o=0,t=e;o<t.length;o++)!function(){var s=t[o],e=-1!==l.indexOf("header")?"_"+s:"";wp.customize(l+e,function(e){e.bind(function(e){for(var o="",t="",n=0,r=["above","main","below"];n<r.length;n++){var a=r[n],_="emoza_"+m.currentBuilderType+"_row__"+a+"_"+m.currentBuilderType,i="#_customize-input-emoza_"+m.currentBuilderType+"_row__"+a+"_"+m.currentBuilderType+"_row";-1!==l.indexOf(_)&&(o="emoza-ehfb-"+a+"-row",t=O(i),m.currentRow=a)}if(""===o||""===t)return!1;m.addBuilderRowColumnsClass(s,o,e);var c=m.jsonDecode(t.val());if(e<c[m.currentDevice].length)for(;c[m.currentDevice].length>e;)c[m.currentDevice].pop();else if(e>c[m.currentDevice].length)for(;c[m.currentDevice].length<e;)c[m.currentDevice].push([]);t.val(JSON.stringify(c)),m.updateColumnsLayoutOption(s,e),m.updateAvailableColumnsArea(s,e),t.trigger("change"),"header"===m.currentBuilderType&&"mobile"===m.currentDevice&&t.closest(".customize-control").next().find("input").val(Math.random()).trigger("change"),m.builderGridContent()})})}()}),["above","main","below"]),o=0,t=["header","footer"];o<t.length;o++){var n,a=t[o],_="header"===a?"hb":"fb",r=_createForOfIteratorHelper(e);try{var i=function(){var r=n.value,t="emoza_section_"+_+"_"+r+"_"+a+"_row";void 0!==wp.customize.section(t)&&wp.customize.section(t).expanded.bind(function(e){if(e){-1!==t.indexOf("header")?m.currentBuilderType="header":-1!==t.indexOf("footer")&&(m.currentBuilderType="footer");for(var e="header"===m.currentBuilderType?["desktop","tablet"]:["desktop"],o=0,n=e;o<n.length;o++)!function(){var t=n[o];setTimeout(function(){var e="emoza-ehfb-"+r+"-row",o="emoza_"+m.currentBuilderType+"_row__"+r+"_"+m.currentBuilderType+"_row_columns_"+t;m.currentRow=r,m.currentRowInput=O("#_customize-input-emoza_"+m.currentBuilderType+"_row__"+r+"_"+m.currentBuilderType+"_row"),m.addBuilderRowColumnsClass(t,e,wp.customize(o).get()),m.updateColumnsLayoutOption(t,wp.customize(o).get()),m.updateAvailableColumnsArea(t,wp.customize(o).get())},50)}()}})};for(r.s();!(n=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}},addBuilderRowColumnsClass:function(e,o,t){"tablet"===e&&(e="mobile");for(var n=1;n<=6;n++)O(".emoza-ehfb-"+this.currentBuilderType+" .emoza-ehfb-"+e+" .emoza-ehfb-row."+o).removeClass("emoza-ehfb-row-"+n+"-columns");O(".emoza-ehfb-"+this.currentBuilderType+" .emoza-ehfb-"+e+" .emoza-ehfb-row."+o).addClass("emoza-ehfb-row-"+t+"-columns")},updateColumnsLayoutOption:function(e,o){var e="emoza_"+this.currentBuilderType+"_row__"+this.currentRow+"_"+this.currentBuilderType+"_row_columns_layout_"+e,t=e+"-"+wp.customize(e).get();if(O('label[for*="'+e+'"]').css("display","none"),O('label[for*="'+e+"-"+o+'col-"]').css("display","block"),O('label[for="'+t+'"]').parent().hasClass("ehfb-option-updated"))return!1;O('label[for="'+t+'"]').parent().addClass("ehfb-option-updated")},builderColumnsLayout:function(){var a=this;["emoza_header_row__above_header_row_columns_layout","emoza_header_row__main_header_row_columns_layout","emoza_header_row__below_header_row_columns_layout","emoza_footer_row__above_footer_row_columns_layout_desktop","emoza_footer_row__main_footer_row_columns_layout_desktop","emoza_footer_row__below_footer_row_columns_layout_desktop"].forEach(function(n){if(void 0!==wp.customize.control(n))for(var e=-1!==n.indexOf("header")?["desktop","tablet"]:["desktop"],o=0,r=e;o<r.length;o++)!function(){var t=r[o],e=-1!==n.indexOf("header")?"_"+t:"";wp.customize(n+e,function(e){e.bind(function(e){var o="above",o=(-1!==n.indexOf("main")?o="main":-1!==n.indexOf("below")&&(o="below"),"tablet"===t&&(t="mobile"),a.currentRowInput=O("#_customize-input-emoza_"+a.currentBuilderType+"_row__"+o+"_"+a.currentBuilderType+"_row"),O(".emoza-ehfb-"+a.currentBuilderType+" .emoza-ehfb-"+t+" .emoza-ehfb-row.emoza-ehfb-"+o+"-row")),e=(o.removeClass("emoza-ehfb-row-columns-layout-equal"),o.removeClass("emoza-ehfb-row-columns-layout-bigleft"),o.removeClass("emoza-ehfb-row-columns-layout-bigright"),-1!==e.indexOf("equal")&&o.addClass("emoza-ehfb-row-columns-layout-equal"),-1!==e.indexOf("bigleft")&&o.addClass("emoza-ehfb-row-columns-layout-bigleft"),-1!==e.indexOf("bigright")&&o.addClass("emoza-ehfb-row-columns-layout-bigright"),a.currentRowInput.val());a.currentRowInput.val("").trigger("change"),a.currentRowInput.val(e).trigger("change"),"header"===a.currentBuilderType&&"mobile"===a.currentDevice&&a.currentRowInput.closest(".customize-control").next().find("input").val(Math.random()).trigger("change")})})}()})},updateAvailableColumnsArea:function(e,o){var t=this.currentRowInput.closest(".control-section").find(".ehfb-available-columns.ehfb-available-columns-"+e+" .ehfb-available-columns-item");t.addClass("hide");for(var n=1;n<=o;n++)t.eq(n-1).removeClass("hide")},footerCustomizerOptions:function(){for(var e=0,o=["above","main","below"];e<o.length;e++)wp.customize("emoza_footer_row__"+o[e]+"_footer_row",function(e){e.bind(function(e){O(".ehfb-footer").remove()})})},extraNavigation:function(){wp.customize.section("emoza_section_hb_mobile_offcanvas").expanded.bind(function(e){if(!e)return!1;"desktop"===O(".wp-full-overlay-footer .devices button.active").data("device")&&O('.wp-full-overlay-footer .devices button[data-device="tablet"]').trigger("click")})},headerPresets:function(){var o=this;wp.customize("emoza_section_hb_presets__header_preset_layout",function(e){e.bind(function(e){o.updateHeaderPreset(e)})})},updateHeaderPreset:function(e){var o=O("#_customize-input-emoza_header_row__above_header_row"),t=O("#_customize-input-emoza_header_row__main_header_row"),n=O("#_customize-input-emoza_header_row__below_header_row");"header_layout_1"===e&&(wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_desktop").set("center"),wp.customize("emoza_header_row__main_header_row_column3_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column3_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column3_horizontal_alignment_desktop").set("end")),"header_layout_2"===e&&(wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_desktop").set("end")),"header_layout_3"===e&&(wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_desktop").set("center"),wp.customize("emoza_header_row__main_header_row_column3_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column3_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column3_horizontal_alignment_desktop").set("end"),wp.customize("emoza_header_row__below_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__below_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__below_header_row_column1_horizontal_alignment_desktop").set("center")),"header_layout_4"===e&&(wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_desktop").set("end"),wp.customize("emoza_header_row__below_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__below_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__below_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__below_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__below_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__below_header_row_column2_horizontal_alignment_desktop").set("end")),"header_layout_5"===e&&(wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_desktop").set("center"),wp.customize("emoza_header_row__main_header_row_column3_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__main_header_row_column3_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__main_header_row_column3_horizontal_alignment_desktop").set("end"),wp.customize("emoza_header_row__below_header_row_column1_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__below_header_row_column1_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__below_header_row_column1_horizontal_alignment_desktop").set("start"),wp.customize("emoza_header_row__below_header_row_column2_vertical_alignment_desktop").set("middle"),wp.customize("emoza_header_row__below_header_row_column2_inner_layout_desktop").set("inline"),wp.customize("emoza_header_row__below_header_row_column2_horizontal_alignment_desktop").set("end")),wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_tablet").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_tablet").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_tablet").set("start"),wp.customize("emoza_header_row__main_header_row_column1_vertical_alignment_mobile").set("middle"),wp.customize("emoza_header_row__main_header_row_column1_inner_layout_mobile").set("inline"),wp.customize("emoza_header_row__main_header_row_column1_horizontal_alignment_mobile").set("start"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_tablet").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_tablet").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_tablet").set("center"),wp.customize("emoza_header_row__main_header_row_column2_vertical_alignment_mobile").set("middle"),wp.customize("emoza_header_row__main_header_row_column2_inner_layout_mobile").set("inline"),wp.customize("emoza_header_row__main_header_row_column2_horizontal_alignment_mobile").set("center"),wp.customize("emoza_header_row__main_header_row_column3_vertical_alignment_tablet").set("middle"),wp.customize("emoza_header_row__main_header_row_column3_inner_layout_tablet").set("inline"),wp.customize("emoza_header_row__main_header_row_column3_horizontal_alignment_tablet").set("end"),wp.customize("emoza_header_row__main_header_row_column3_vertical_alignment_mobile").set("middle"),wp.customize("emoza_header_row__main_header_row_column3_inner_layout_mobile").set("inline"),wp.customize("emoza_header_row__main_header_row_column3_horizontal_alignment_mobile").set("end"),o.val(emoza_hfb.header_presets[e].above_row).trigger("change"),t.val(emoza_hfb.header_presets[e].main_row).trigger("change"),n.val(emoza_hfb.header_presets[e].below_row).trigger("change"),o.closest(".customize-control").next().find("input").val(Math.random()).trigger("change"),t.closest(".customize-control").next().find("input").val(Math.random()).trigger("change"),n.closest(".customize-control").next().find("input").val(Math.random()).trigger("change"),this.builderGridContent()}},O(document).ready(function(){ehfb.init()})}(jQuery);