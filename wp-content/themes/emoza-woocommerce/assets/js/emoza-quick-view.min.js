"use strict";var emoza=emoza||{};emoza.quickView={init:function(){this.build(),this.events()},build:function(){var e=document.querySelectorAll(".emoza-quick-view"),a=document.querySelector(".emoza-quick-view-popup"),t=document.querySelector(".emoza-quick-view-popup-close-button"),o=document.querySelector(".emoza-quick-view-popup-content-ajax");if(null===a)return!1;t.addEventListener("click",function(e){e.preventDefault()}),a.addEventListener("click",function(e){null===e.target.closest(".emoza-quick-view-popup-content-ajax")&&a.classList.remove("opened")});for(var i=0;i<e.length;i++)e[i].addEventListener("click",function(e){e.preventDefault();var t=e.target.getAttribute("data-product-id"),e=e.target.getAttribute("data-nonce"),i=(a.classList.add("opened"),a.classList.add("loading"),new XMLHttpRequest);i.open("POST",emoza.ajaxurl,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onload=function(){var e,t;200<=this.status&&this.status<400&&(o.innerHTML=this.response,(t=(e=jQuery(o)).find(".woocommerce-product-gallery")).length&&(t.trigger("wc-product-gallery-before-init",[t.get(0),wc_single_product_params]),t.wc_product_gallery(wc_single_product_params),t.trigger("wc-product-gallery-after-init",[t.get(0),wc_single_product_params])),emoza.variationGallery&&emoza.variationGallery.init(e),emoza.sizeChart&&emoza.sizeChart.init(e),emoza.productSwatch&&emoza.productSwatch.variationMouseOver&&emoza.productSwatch.variationMouseOver(),t=document.querySelector(".emoza-quick-view-summary .variations_form"),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(t).wc_variation_form(),emoza.qtyButton.init("quick-view"),void 0!==emoza.wishList&&emoza.wishList.init(),e.find(".variations_form").each(function(){if(!0===jQuery(this).data("misc-variations"))return!1;emoza.misc.moveResetVariationButton(jQuery(this)),emoza.misc.checkIfHasVariationSelected(jQuery(this)),jQuery(this).on("woocommerce_variation_select_change",function(){emoza.misc.checkIfHasVariationSelected(jQuery(this))}),jQuery(this).data("misc-variations",!0)}),window.dispatchEvent(new Event("emoza.quickview.ajax.loaded")),a.classList.remove("loading"))},i.send("action=emoza_quick_view_content&product_id="+t+"&nonce="+e)})},events:function(){var e=this;window.addEventListener("emoza.carousel.initialized",function(){e.build()})}},jQuery(document).ready(function(){emoza.quickView.init()});