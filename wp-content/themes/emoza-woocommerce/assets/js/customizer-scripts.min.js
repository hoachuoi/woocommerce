"use strict";jQuery(document).ready(function(e){var t="",n=(e(".emoza-to-widget-area-link").on("click",function(){e(this).closest(".control-section").length&&(t=e(this).closest(".control-section").attr("id").replace("sub-accordion-section-",""))}),!1),a=!1,i=!1,r=!1,c=!1,s=!1;e(document).on("mouseover focus",".customize-section-back",function(o){if(!e(".control-section.open").length)return!1;n=!(!e(".control-section.open").attr("id").indexOf("_hb_")&&!e(".control-section.open").attr("id").indexOf("_fb_")),a=!!e(".control-section.open").hasClass("control-section-emoza-section-hidden"),i="sub-accordion-section-emoza_section_hb_wrapper"===e(".control-section.open").attr("id"),r=-1!==e(".control-section.open").attr("id").indexOf("emoza_section_hb_component_"),c="sub-accordion-section-emoza_section_fb_wrapper"===e(".control-section.open").attr("id"),s=-1!==e(".control-section.open").attr("id").indexOf("emoza_section_fb_component_")}),e(document).on("click keydown",".customize-section-back",function(o){if(o.keyCode&&13!==o.keyCode&&27!==o.keyCode)return!1;i&&(wp.customize.section("emoza_section_hb_wrapper").collapse(),setTimeout(function(){wp.customize.panel("emoza_panel_header").collapse()},10)),c&&(wp.customize.section("emoza_section_fb_wrapper").collapse(),setTimeout(function(){wp.customize.panel("emoza_panel_footer").collapse()},10)),n||s||r||!a||""===t||void 0!==wp.customize.section(t)&&wp.customize.section(t).focus(),a=s=c=r=i=n=!1})}),jQuery(document).ready(function(o){o(".control-section-emoza-section-upsell").on("click",function(){window.open("https://emoza.org/?utm_source=theme_customizer&utm_medium=emoza_customizer&utm_campaign=Emoza","_blank")})}),jQuery(document).ready(function(o){o(document).on("click",".customize-control-emoza-radio-image label.is-pro",function(o){o.preventDefault()})}),jQuery(document).ready(function(e){e(".emoza-select2").each(function(){var o=e(this).data("select2-options");e(this).select2(o)}),e(".emoza-select2").on("change",function(){e(this).prev().val(e(this).val()).trigger("change")})}),jQuery(document).ready(function(a){function i(o){var e={font:o.find(".google-fonts-list").val(),regularweight:o.find(".google-fonts-regularweight-style").val(),category:o.find(".google-fonts-category").val()};o.find(".customize-control-google-font-selection").val(JSON.stringify(e)).trigger("change")}a(".google-fonts-list").each(function(o,e){a(this).hasClass("select2-hidden-accessible")||a(this).select2()}),a(".google-fonts-list").on("change",function(){var t=a(this).parent().parent().find(".google-fonts-regularweight-style"),n=a(this).val(),o=a(this).attr("control-name"),o=(t.empty(),_wpCustomizeSettings.controls[o]),e=a.map(o.emozafontslist,function(o,e){if(o.family===n)return e})[0];a.each(o.emozafontslist[e].variants,function(o,e){t.append(a("<option></option>").val(e).html(e)),0<a(t).find('option[value="regular"]').length?a(t).val("regular"):0<a(t).find('option[value="400"]').length?a(t).val("400"):0<a(t).find('option[value="300"]').length&&a(t).val("300")}),a(this).parent().parent().find(".google-fonts-category").val(o.emozafontslist[e].category),i(a(this).parent().parent().parent().parent())}),a(".google_fonts_select_control select").on("change",function(){i(a(this).parent().parent().parent().parent())})}),jQuery(document).ready(function(i){function r(o){for(var e=[],t=1;t<=9;t++)e["n"+t]=100*t;return e.hasOwnProperty(o)?e[o]:"400"}i(".adobe-font-family").each(function(o,e){i(this).hasClass("select2-hidden-accessible")||i(this).select2()}),i(".adobe-font-family").on("change",function(){for(var o=i(this).closest(".adobe_fonts_select_control"),e=i(this).val(),t="",n=0;n<emoza_adobe_fonts.length;n++)if(emoza_adobe_fonts[n].css_name==e){t=emoza_adobe_fonts[n].variations;break}o.find(".adobe-font-weight").html("");for(var a=0;a<t.length;a++)-1===t[a].indexOf("i")&&o.find(".adobe-font-weight").append('<option value="'+r(t[a])+'">'+r(t[a])+"</option>");o.find(".customize-control-adobe-font-selection").val(o.find(".adobe-font-family").val()+"|"+o.find(".adobe-font-weight").val()).trigger("change")}),i(".adobe-font-weight").on("change",function(){var o=i(this).closest(".adobe_fonts_select_control");o.find(".customize-control-adobe-font-selection").val(o.find(".adobe-font-family").val()+"|"+o.find(".adobe-font-weight").val()).trigger("change")})}),jQuery(document).ready(function(n){var a=!1;n(".emoza-devices-preview").find("button").on("click",function(o){if(a)return a=!1;a=!0;var e="",e=n(this).hasClass("preview-desktop")?(n(".emoza-devices-preview").find(".preview-desktop").addClass("active"),n(".emoza-devices-preview").find(".preview-tablet").removeClass("active"),n(".emoza-devices-preview").find(".preview-mobile").removeClass("active"),n(".responsive-control-desktop").addClass("active"),n(".responsive-control-tablet").removeClass("active"),n(".responsive-control-mobile").removeClass("active"),n('.wp-full-overlay-footer .devices button[data-device="desktop"]').trigger("click"),"desktop"):n(this).hasClass("preview-tablet")?(n(".emoza-devices-preview").find(".preview-tablet").addClass("active"),n(".emoza-devices-preview").find(".preview-desktop").removeClass("active"),n(".emoza-devices-preview").find(".preview-mobile").removeClass("active"),n(".responsive-control-desktop").removeClass("active"),n(".responsive-control-tablet").addClass("active"),n(".responsive-control-mobile").removeClass("active"),n('.wp-full-overlay-footer .devices button[data-device="tablet"]').trigger("click"),"tablet"):(n(".emoza-devices-preview").find(".preview-mobile").addClass("active"),n(".emoza-devices-preview").find(".preview-desktop").removeClass("active"),n(".emoza-devices-preview").find(".preview-tablet").removeClass("active"),n(".responsive-control-desktop").removeClass("active"),n(".responsive-control-tablet").removeClass("active"),n(".responsive-control-mobile").addClass("active"),n('.wp-full-overlay-footer .devices button[data-device="mobile"]').trigger("click"),n(".responsive-control-tablet.show-mobile").addClass("active"),"mobile"),t=n(this).closest(".customize-control").attr("id").replace("customize-control-","");n(window).trigger("emoza.resp.control.switched",[t,e])}),n(" .wp-full-overlay-footer .devices button ").on("click",function(){if(a)return a=!1;var o=n(this).attr("data-device");n(".control-section.open .emoza-devices-preview").find(".preview-"+o).trigger("click")})}),jQuery(document).ready(function(n){function a(o,e){e='<div class="repeater" style="display:none"><input type="text" value="'+(1<arguments.length&&void 0!==e?e:"")+'" class="repeater-input" placeholder="'+(!!o.find(".emoza-sortable_repeater.sortable").hasClass("regular-field")?"":"https://")+'" /><span class="dashicons dashicons-menu"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';o.find(".sortable").append(e),o.find(".sortable").find(".repeater:last").slideDown("slow",function(){n(this).find("input").focus()})}function t(o){var e=o.find(".repeater-input").map(function(){return n(this).val()}).toArray();o.find(".customize-control-sortable-repeater").val(e),o.find(".customize-control-sortable-repeater").trigger("change")}n(".emoza-sortable_repeater_control").each(function(){var o=n(this).find(".customize-control-sortable-repeater").val().split(","),e=o.length;if(0<e&&(n(this).find(".repeater-input").val(o[0]),1<e))for(var t=1;t<e;++t)a(n(this),o[t])}),n(this).find(".emoza-sortable_repeater.sortable").sortable({update:function(o,e){t(n(this).parent())}}),n(".emoza-sortable_repeater.sortable").on("click",".customize-control-sortable-repeater-delete",function(o){o.preventDefault(),1<n(this).parent().parent().find(".repeater").length?n(this).parent().slideUp("fast",function(){var o=n(this).parent().parent();n(this).remove(),t(o)}):(n(this).parent().find(".repeater-input").val(""),t(n(this).parent().parent().parent()))}),n(".customize-control-sortable-repeater-add").click(function(o){o.preventDefault(),a(n(this).parent()),t(n(this).parent())}),n(".emoza-sortable_repeater.sortable").change(function(){t(n(this).parent())}),n(".emoza-sortable_repeater.sortable:not(.regular-field)").on("blur",".repeater-input",function(){var o=n(this),e=o.val();e&&!e.match(/^.+:\/\/.*/)&&o.val("https://"+e).trigger("change")})}),jQuery(document).ready(function(n){n(".customize-control-emoza-tab-control").each(function(){var o=n(this).find(".control-tab-design").data("connected"),t=n(this).find(".control-tab-general").data("connected");n.each(t,function(o,e){0===o&&n(this).addClass("emoza-tab-control-item-first"),o===t.length-1&&n(this).addClass("emoza-tab-control-item-last")}),n.each(o,function(o,e){n(this).addClass("emoza-hide-control")}),n(this).find(".control-tab").on("click",function(){var o=n(this),e=o.siblings(),t=o.data("connected");o.addClass("active"),e.removeClass("active"),n.each(t,function(o,e){0===o&&n(this).addClass("emoza-tab-control-item-first"),o===t.length-1&&n(this).addClass("emoza-tab-control-item-last"),n(this).removeClass("emoza-hide-control")}),e.each(function(){var t=n(this).data("connected");n.each(t,function(o,e){0===o&&n(this).removeClass("emoza-tab-control-item-first"),o===t.length-1&&n(this).removeClass("emoza-tab-control-item-last"),n(this).addClass("emoza-hide-control")})})})})}),jQuery(document).ready(function(t){t(".customize-control-tinymce-editor").each(function(){var o=_wpCustomizeSettings.controls[t(this).attr("id")].emozatb1,e=_wpCustomizeSettings.controls[t(this).attr("id")].emozatb2;_wpCustomizeSettings.controls[t(this).attr("id")].emozatmb;wp.editor.initialize(t(this).attr("id"),{tinymce:{wpautop:!1,toolbar1:o,toolbar2:e},quicktags:!0,mediaButtons:!0})}),t(document).on("tinymce-editor-init",function(o,e){e.on("change",function(o){tinyMCE.triggerSave(),t("#"+e.id).trigger("change")})})}),jQuery(document).ready(function(e){function o(o){"col3"===e(o).val()||"col3-bigleft"===e(o).val()||"col3-bigright"===e(o).val()?(e(".footer-widget-area-link-1, .footer-widget-area-link-2, .footer-widget-area-link-3").show(),e(".footer-widget-area-link-4").hide()):"col4"===e(o).val()||"col4-bigleft"===e(o).val()||"col4-bigright"===e(o).val()?e(".footer-widget-area-link-1, .footer-widget-area-link-2, .footer-widget-area-link-3, .footer-widget-area-link-4").show():("col2"===e(o).val()||"col2-bigleft"===e(o).val()||"col2-bigright"===e(o).val()?(e(".footer-widget-area-link-1, .footer-widget-area-link-2").show(),e(".footer-widget-area-link-4, .footer-widget-area-link-3")):"col1"===e(o).val()?(e(".footer-widget-area-link-1").show(),e(".footer-widget-area-link-4, .footer-widget-area-link-2, .footer-widget-area-link-3")):e(".footer-widget-area-link-1, .footer-widget-area-link-2, .footer-widget-area-link-3, .footer-widget-area-link-4")).hide()}o(e("#customize-control-footer_widgets").find("input:checked")),e("#customize-control-footer_widgets").find("input").change(function(){o(e(this))})});var emozaChangeElementColors=function(o,e,t){var n,a=jQuery('[data-control-id="'+o+'"]');a.length?(t&&(n=t.indexOf(e),t[n])&&(e=t[n]),(n=a.find(".emoza-color-picker")).data("pickr")?n.data("pickr").setColor(e):(n.css("background-color",e),wp.customize(o).set(e))):(t=jQuery("#customize-control-"+o)).length&&((n=t.find(".emoza-color-picker")).data("pickr")?n.data("pickr").setColor(e):(n.css("background-color",e),wp.customize(o).set(e)))};wp.customize("color_palettes",function(o){var j=jQuery("#customize-control-color_palettes").find(".radio-buttons").data("palettes");o.bind(function(o){if(""!==o){for(var n=o,e=0,t=["custom_color1","scrolltop_bg_color","button_background_color","button_border_color","color_link_default","footer_credits_links_color","single_product_tabs_border_color_active","single_product_tabs_text_color_active","single_product_tabs_text_color","shop_archive_header_button_color","shop_archive_header_button_border_color","ql_item_bg_hover"];e<t.length;e++){var a=t[e];void 0!==wp.customize(a)&&emozaChangeElementColors(a,j[n][0],j[n])}for(var i=0,r=["custom_color2","footer_widgets_links_hover_color","scrolltop_bg_color_hover","button_background_color_hover","button_border_color_hover","color_link_hover","footer_credits_links_color_hover","shop_archive_header_button_background_color_hover","shop_archive_header_button_border_color_hover","main_header_sticky_active_color_hover","main_header_color_hover","main_header_sticky_active_submenu_color_hover","main_header_submenu_color_hover","ql_item_color_hover"];i<r.length;i++){var c=r[i];void 0!==wp.customize(c)&&emozaChangeElementColors(c,j[n][1],j[n])}for(var s=0,l=["single_post_title_color","custom_color3","main_header_submenu_color","main_header_sticky_active_submenu_color","offcanvas_menu_color","mobile_header_color","footer_widgets_title_color","single_product_title_color","color_forms_text","shop_product_product_title","loop_post_meta_color","loop_post_title_color","main_header_color","main_header_sticky_active_color","site_title_color","site_description_color","color_heading_1","color_heading_2","color_heading_3","color_heading_4","color_heading_5","color_heading_6","shop_archive_header_title_color","shop_archive_header_description_color","ehfb_search_icon_color","ehfb_woo_icons_color","ehfb_contact_info_icon_color","ql_item_color"];s<l.length;s++){var d=l[s];void 0!==wp.customize(d)&&emozaChangeElementColors(d,j[n][2],j[n])}for(var _=0,u=["custom_color4","footer_widgets_links_color","footer_widgets_text_color","color_body_text","footer_credits_text_color","color_forms_placeholder","topbar_color","main_header_bottom_color","single_sticky_add_to_cart_style_color_content","loop_post_text_color"];_<u.length;_++){var m=u[_];void 0!==wp.customize(m)&&emozaChangeElementColors(m,j[n][3],j[n])}for(var f=0,p=["custom_color5","color_forms_borders","single_product_tabs_remaining_borders","single_sticky_add_to_cart_style_color_border","emoza_header_row__above_header_row_border_bottom_color","emoza_header_row__main_header_row_border_bottom_color","emoza_header_row__below_header_row_border_bottom_color","emoza_footer_row__above_footer_row_border_top_color","emoza_footer_row__main_footer_row_border_top_color","emoza_footer_row__below_footer_row_border_top_color","ql_item_border_color"];f<p.length;f++){var h=p[f];void 0!==wp.customize(h)&&emozaChangeElementColors(h,j[n][4],j[n])}for(var g=0,v=["custom_color6","footer_widgets_background","footer_credits_background","content_cards_background","single_product_tabs_background_color","single_product_tabs_background_color_active","single_product_gallery_styles_background_color","single_sticky_add_to_cart_style_color_background","emoza_footer_row__above_footer_row_background_color","emoza_footer_row__main_footer_row_background_color","emoza_footer_row__below_footer_row_background_color","ql_background_color"];g<v.length;g++){var b=v[g];void 0!==wp.customize(b)&&emozaChangeElementColors(b,j[n][5],j[n])}for(var z=0,w=["custom_color7","background_color","button_color","button_color_hover","scrolltop_color","scrolltop_color_hover","color_forms_background","topbar_background","single_product_reviews_advanced_section_bg_color"];z<w.length;z++){var k=w[z];void 0!==wp.customize(k)&&emozaChangeElementColors(k,j[n][6],j[n])}for(var y=0,C=["custom_color8","main_header_submenu_background","main_header_sticky_active_submenu_background_color","main_header_background","main_header_sticky_active_background","main_header_bottom_background","mobile_header_background","offcanvas_menu_background","shop_archive_header_background_color","shop_archive_header_button_background_color","shop_archive_header_button_color_hover","emoza_header_row__above_header_row_background_color","emoza_header_row__main_header_row_background_color","emoza_header_row__below_header_row_background_color","login_register_submenu_background"];y<C.length;y++){var x=C[y];void 0!==wp.customize(x)&&emozaChangeElementColors(x,j[n][7],j[n])}var o=jQuery("#customize-control-custom_palette");o.length&&(o=o.find(".emoza-color-control")).length&&o.each(function(o){var e=jQuery(this),t=e.find(".emoza-color-picker"),e=e.find(".emoza-color-input"),o=j[n][o];e.attr("value",o),t.css("background-color",o)})}})}),wp.customize.bind("ready",function(){wp.customize("custom_color1",function(o){o.bind(function(o){for(var e=0,t=["scrolltop_bg_color","button_background_color","button_border_color","color_link_default","footer_credits_links_color","single_product_tabs_border_color_active","single_product_tabs_text_color_active","single_product_tabs_text_color","shop_archive_header_button_color","shop_archive_header_button_border_color","ql_item_bg_hover"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color2",function(o){o.bind(function(o){for(var e=0,t=["footer_widgets_links_hover_color","scrolltop_bg_color_hover","button_background_color_hover","button_border_color_hover","color_link_hover","footer_credits_links_color_hover","shop_archive_header_button_background_color_hover","shop_archive_header_button_border_color_hover","main_header_sticky_active_color_hover","main_header_color_hover","main_header_sticky_active_submenu_color_hover","main_header_submenu_color_hover","ql_item_color_hover"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color3",function(o){o.bind(function(o){for(var e=0,t=["single_post_title_color","main_header_submenu_color","main_header_sticky_active_submenu_color","offcanvas_menu_color","mobile_header_color","footer_widgets_title_color","single_product_title_color","color_forms_text","shop_product_product_title","loop_post_meta_color","loop_post_title_color","main_header_color","main_header_sticky_active_color","site_title_color","site_description_color","color_heading_1","color_heading_2","color_heading_3","color_heading_4","color_heading_5","color_heading_6","shop_archive_header_title_color","shop_archive_header_description_color","ehfb_search_icon_color","ehfb_woo_icons_color","ehfb_contact_info_icon_color","ql_item_color"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color4",function(o){o.bind(function(o){for(var e=0,t=["footer_widgets_links_color","footer_widgets_text_color","color_body_text","footer_credits_text_color","color_forms_placeholder","topbar_color","main_header_bottom_color","single_sticky_add_to_cart_style_color_content","loop_post_text_color"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color5",function(o){o.bind(function(o){for(var e=0,t=["color_forms_borders","single_product_tabs_remaining_borders","single_sticky_add_to_cart_style_color_border","emoza_header_row__above_header_row_border_bottom_color","emoza_header_row__main_header_row_border_bottom_color","emoza_header_row__below_header_row_border_bottom_color","emoza_footer_row__above_footer_row_border_top_color","emoza_footer_row__main_footer_row_border_top_color","emoza_footer_row__below_footer_row_border_top_color","ql_item_border_color"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color6",function(o){o.bind(function(o){for(var e=0,t=["footer_widgets_background","footer_credits_background","content_cards_background","single_product_tabs_background_color","single_product_tabs_background_color_active","single_product_gallery_styles_background_color","single_sticky_add_to_cart_style_color_background","emoza_footer_row__above_footer_row_background_color","emoza_footer_row__main_footer_row_background_color","emoza_footer_row__below_footer_row_background_color","ql_background_color"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color7",function(o){o.bind(function(o){for(var e=0,t=["background_color","button_color","button_color_hover","scrolltop_color","scrolltop_color_hover","color_forms_background","topbar_background","single_product_reviews_advanced_section_bg_color"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})}),wp.customize("custom_color8",function(o){o.bind(function(o){for(var e=0,t=["main_header_submenu_background","main_header_sticky_active_submenu_background_color","main_header_background","main_header_sticky_active_background","main_header_bottom_background","mobile_header_background","offcanvas_menu_background","shop_archive_header_background_color","shop_archive_header_button_background_color","shop_archive_header_button_color_hover","emoza_header_row__above_header_row_background_color","emoza_header_row__main_header_row_background_color","emoza_header_row__below_header_row_background_color","login_register_submenu_background"];e<t.length;e++){var n=t[e];void 0!==wp.customize(n)&&emozaChangeElementColors(n,o)}})})}),wp.customize.bind("ready",function(){wp.customize.control("custom_palette",function(e){wp.customize("custom_palette_toggle").bind(function(o){e.active.set(o)})})}),jQuery(document).ready(function(o){var e=o(".saved-palette");o(".saved-palette").on("click",function(){o(".palette-radio-buttons").toggleClass("open")}),o(".palette-radio-buttons").find(".palette").on("click",function(){e.empty(),o(".palette-radio-buttons").removeClass("open"),o(this).parent().clone().unwrap().appendTo(e).find("input").remove()})}),function(i){var e={init:function(){this.firstTime=!0,this.initialized||this.events(),this.initialized=!0},events:function(){var t=this;return i(document).on("click",".emoza-accordion-title",function(o){o.preventDefault();var e=i(this);i(this).hasClass("expanded")&&(t.showOrHide(i(this),"hide"),i(this).removeClass("expanded").addClass("collapse"),setTimeout(function(){e.removeClass("collapse")},300)),i(this).hasClass("collapse")||(i(".emoza-accordion-item").addClass("emoza-accordion-hide"),i(".emoza-accordion-title").removeClass("expanded"),t.showOrHide(i(this),"show"),e.addClass("expanded"))}),i(document).on("click",".control-section",function(o){var e=i(".control-section.open");t.firstTime&&e.find(".emoza-accordion-title").length&&(e.find(".emoza-accordion-title").each(function(){t.showOrHide(i(this),"hide"),i(this).removeClass("expanded")}),setTimeout(function(){t.firstTime=!1},300))}),i(document).on("click",".customize-section-back",function(){t.firstTime=!0}),this},showOrHide:function(o,e){var t="",n=[];if((t=o.closest(".customize-control").next()).attr("id")=="customize-control-"+o.data("until"))n.push(t[0].id);else for(;t.attr("id")!="customize-control-"+o.data("until");)n.push(t[0].id),t=t.next();1<=n.length&&n.push(t[0].id);for(var a=0;a<n.length;a++)i("#"+n[a]).addClass("emoza-accordion-item active"),"hide"==e?i("#"+n[a]).addClass("emoza-accordion-hide"):i("#"+n[a]).removeClass("emoza-accordion-hide"),0==a&&i("#"+n[a]).addClass("emoza-accordion-first-item"),(a==n.length-1&&1<n.length||1==n.length)&&i("#"+n[a]).addClass("emoza-accordion-last-item");return this},focusAccordionOpenControl:function(){var o=this,e=document.location.search.split("&"),e=(e.shift(),e=e.join("&"),o.getQueryParams(e));if(!i(".control-section.open").get(0))return setTimeout(function(){o.focusAccordionOpenControl()},300),this;o.firstTime=!1,i(".control-section.open").find(".emoza-accordion-title").trigger("click"),void 0!==e.control&&i(".control-section.open").find("#"+e.control+" > a").trigger("click")},getQueryParams:function(o){o=o.split("+").join(" ");for(var e,t={},n=/[?&]?([^=]+)=([^&]*)/g;e=n.exec(o);)t[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return t}};i(document).ready(function(o){e.init()}),0<window.location.href.indexOf("?autofocus")&&wp.customize.bind("ready",function(){e.focusAccordionOpenControl()})}(jQuery),jQuery(document).ready(function(t){t(document).on("click","a[data-goto]",function(o){o.preventDefault();var o=t(this).data("type"),e=t(this).data("goto");"section"===o?wp.customize.section(e).focus():"panel"===o&&wp.customize.panel(e).focus()})}),jQuery(document).ready(function(l){l(document).on("click",".emoza-create-page-control-button",function(o){o.preventDefault();var e=l(this),t=e.parent().find(".emoza-create-page-control-create-message"),n=e.parent().find(".emoza-create-page-control-success-message"),o=(e.text(),e.data("creating-text")),a=(e.data("created-text"),e.data("page-title")),i=e.data("page-meta-key"),r=e.data("page-meta-value"),c=e.data("option-name"),s=e.data("nonce");if(!a)return!1;l(this).text(o),l(this).attr("disabled",!0),l.ajax({type:"post",url:ajaxurl,data:{action:"emoza_create_page_control",page_title:a,page_meta_key:i,page_meta_value:r,option_name:c,nonce:s},success:function(o){"success"===o.status&&(o=n.find("a").attr("href").replace("?post=&","?post="+o.page_id+"&"),n.find("a").attr("href",o),n.css("display","block"),t.remove(),e.remove())}})})}),jQuery(document).ready(function(a){a(document).on("click",".emoza-adobe_fonts_kits_submit_token",function(o){o.preventDefault();var e=a(this),o=a("#adobe_fonts_kits_generator").val(),t=a(".emoza-adobe_fonts_kits_ajax_wrapper"),n=e.data("nonce");a(this).text(e.data("loading-text")),a(this).attr("disabled",!0),a.ajax({type:"post",url:ajaxurl,data:{action:"emoza_typography_adobe_kits_control",token:o,nonce:n},success:function(o){t.html(o.output),e.text(e.data("default-text")),e.attr("disabled",!1),"success"===o.status&&null!==o.output&&(wp.customize.bind("saved",function(){var o=a(".emoza-adobe_fonts_kits_wrapper-item .reload-message a").attr("href");window.location.href=o}),a("#customize-save-button-wrapper > .save").trigger("click"))}})}),a(document).on("click",".emoza-adobe_fonts_kit_onoff",function(o){o.preventDefault();var e=a(this),o=e.data("kit"),t=e.data("nonce");a(this).text(e.data("loading-text")),a(this).attr("disabled",!0),a.ajax({type:"post",url:ajaxurl,data:{action:"emoza_typography_adobe_kits_control_enable_disable",kit:o,nonce:t},success:function(o){o.kit_enabled?(e.text(e.data("disable-text")),e.closest(".emoza-adobe_fonts_kits_wrapper-item").removeClass("disabled")):(e.text(e.data("enable-text")),e.closest(".emoza-adobe_fonts_kits_wrapper-item").addClass("disabled")),e.closest(".emoza-adobe_fonts_kits_wrapper-item").find(".reload-message").addClass("show"),e.attr("disabled",!1)}})})}),jQuery(document).ready(function(e){var t="";e(document).on("mouseover focus",".customize-section-back",function(o){t=e(".control-section.open").attr("id")}),e(document).on("click keydown",".customize-section-back",function(o){if(-1!==t.indexOf("side_mini_cart_floating_icon_section")&&void 0!==wp.customize.section("emoza_section_shop_cart"))return wp.customize.section("emoza_section_shop_cart").focus(),!1})}),jQuery(document).ready(function(c){c(document).on("emoza-display-conditions-select2-initalize",function(o,e){var e=c(e),t=(e.closest(".emoza-display-conditions-control"),e.find(".emoza-display-conditions-select2-type")),n=t.find("select"),a=e.find(".emoza-display-conditions-select2-condition").find("select"),i=e.find(".emoza-display-conditions-select2-id"),r=i.find("select");n.select2({width:"100%",minimumResultsForSearch:-1}),n.on("select2:select",function(o){t.attr("data-type",o.params.data.id)}),a.select2({width:"100%"}),a.on("select2:select",function(o){c(o.params.data.element).data("ajax")?i.removeClass("hidden"):i.addClass("hidden"),r.val(null).trigger("change")}),a.find(":selected").data("ajax")&&i.removeClass("hidden"),r.select2({width:"100%",placeholder:"",allowClear:!0,minimumInputLength:1,ajax:{url:ajaxurl,dataType:"json",delay:250,cache:!0,data:function(o){return{action:"emoza_display_conditions_select_ajax",term:o.term,nonce:ajax_object.ajax_nonce,source:a.val()}},processResults:function(o,e){return o.success?{results:o.data}:{}}}})}),c(document).on("click",".emoza-display-conditions-modal-toggle",function(o){o.preventDefault();var o=c(this),e=wp.template("emoza-display-conditions-template"),o=o.closest(".emoza-display-conditions-control"),t=o.find(".emoza-display-conditions-modal");t.data("initialized")?t.toggleClass("open"):(o.append(e(o.data("condition-settings"))),(e=o.find(".emoza-display-conditions-modal-content-list-item").not(".hidden")).length&&e.each(function(){c(document).trigger("emoza-display-conditions-select2-initalize",this)}),(t=o.find(".emoza-display-conditions-modal")).data("initialized",!0),t.addClass("open"))}),c(document).on("click",".emoza-display-conditions-modal",function(o){o.preventDefault();var e=c(this);c(o.target).is(e)&&e.removeClass("open")}),c(document).on("click",".emoza-display-conditions-modal-add",function(o){o.preventDefault();var o=c(this),e=o.closest(".emoza-display-conditions-control").find(".emoza-display-conditions-modal"),t=e.find(".emoza-display-conditions-modal-content-list"),e=e.find(".emoza-display-conditions-modal-content-list-item").first().clone(),o=o.data("condition-group");e.removeClass("hidden"),e.find(".emoza-display-conditions-select2-condition").not('[data-condition-group="'+o+'"]').remove(),t.append(e),c(document).trigger("emoza-display-conditions-select2-initalize",e)}),c(document).on("click",".emoza-display-conditions-modal-remove",function(o){o.preventDefault(),c(this).closest(".emoza-display-conditions-modal-content-list-item").remove()}),c(document).on("click",".emoza-display-conditions-modal-save",function(o){o.preventDefault();var e=[],o=c(this).closest(".emoza-display-conditions-control"),t=o.find(".emoza-display-conditions-modal"),o=o.find(".emoza-display-conditions-textarea");t.find(".emoza-display-conditions-modal-content-list-item").not(".hidden").each(function(){var o=c(this);e.push({type:o.find('select[name="type"]').val(),condition:o.find('select[name="condition"]').val(),id:o.find('select[name="id"]').val()})}),o.val(JSON.stringify(e)).trigger("change")})}),jQuery(document).ready(function(a){a(document).on("emoza-custom-sidebar-update",function(o,e){o.preventDefault();var t=[],o=a(e),e=o.find(".emoza-custom-sidebar-textarea");o.find(".emoza-custom-sidebar-list-item").not(".hidden").each(function(){var o=a(this),e=o.find('input[name="sidebar_name"]').val(),o=(o=o.find('textarea[name="sidebar_conditions"]').val())&&JSON.parse(o);e&&t.push({name:e,conditions:o})}),e.val(JSON.stringify(t)).trigger("change")}),a(".emoza-custom-sidebars-control").each(function(){var o=a(this);o.find(".emoza-custom-sidebar-list").sortable({axis:"y",update:function(){a(document).trigger("emoza-custom-sidebar-update",[o])}})}),a(document).on("change",".emoza-custom-sidebar-name, .emoza-custom-sidebar-conditions",function(o){var e=a(this).closest(".emoza-custom-sidebars-control");a(document).trigger("emoza-custom-sidebar-update",[e])}),a(document).on("click",".emoza-custom-sidebar-remove",function(o){var e=a(this),t=e.closest(".emoza-custom-sidebars-control"),n=t.find(".emoza-custom-sidebar-list-item").not(".hidden");e.closest(".emoza-custom-sidebar-list-item").remove(),1===n.length&&(e=t.find(".emoza-custom-sidebar-list"),(n=t.find(".emoza-custom-sidebar-list-item").first().clone()).removeClass("hidden"),e.append(n)),a(document).trigger("emoza-custom-sidebar-update",[t])}),a(document).on("click",".emoza-custom-sidebar-add",function(o){var e=a(this).closest(".emoza-custom-sidebars-control"),t=e.find(".emoza-custom-sidebar-list"),n=e.find(".emoza-custom-sidebar-list-item").first().clone();n.removeClass("hidden"),t.append(n),a(document).trigger("emoza-custom-sidebar-update",[e])}),a(document).on("click",".emoza-custom-sidebar-condition",function(o){a(this).closest(".emoza-custom-sidebar-list-item")})}),jQuery(document).ready(function(d){var t=d(".emoza-typography-custom-select");t.length&&t.each(function(){var a=d(this);a.select2(),a.on("change",function(){var t=d(this).val(),o=_wpCustomizeSettings.controls[a.data("control-name")],o=d.map(o.google_fonts,function(o,e){if(o.family===t)return o.variants}),e=a.parent().find(".emoza-typography-custom-weight-select-wrapper"),n=e.find(".emoza-typography-custom-weight-select");n.empty(),o.length?(e.show(),d.each(o,function(o,e){n.append('<option name="'+e+'">'+e+"</option>")}),n.trigger("change")):e.hide()})}),d(document).on("emoza-custom-font-update",function(o,e){o.preventDefault();var l=[],o=d(e),e=o.find(".emoza-custom-font-textarea");o.find(".emoza-custom-font-item").not(".hidden").each(function(){var o,e,t=d(this),n=t.find('input[name="name"]').val(),a=t.find('input[name="woff2"]').val(),i=t.find('input[name="woff"]').val(),r=t.find('input[name="ttf"]').val(),c=t.find('input[name="eot"]').val(),s=t.find('input[name="otf"]').val(),t=t.find('input[name="svg"]').val();n&&(a||i||r||c||s||t)&&(l.push({name:n,woff2:a,woff:i,ttf:r,eot:c,otf:s,svg:t}),o=n.replace(/ /g,"-").toLowerCase(),d("#"+o).length&&d("#"+o).remove(),e=[],a&&e.push('url("'+a+'") format("woff2");'),i&&e.push('url("'+i+'") format("woff");'),t&&e.push('url("'+t+'") format("svg");'),r&&e.push('url("'+r+'") format("truetype");'),s&&e.push('url("'+s+'") format("opentype");'),c&&e.push('url("'+c+'?#iefix") format("embedded-opentype");'),e.length)&&(a="",a+='@font-face{ font-family: "'+n+'";',c&&(a+="src: url("+c+");"),a=a+("src: "+e.join(","))+";}",d("head").append('<style id="'+o+'" type="text/css">'+a+"</style>"))}),e.val(JSON.stringify(l)).trigger("change"),t.length&&t.each(function(){var o=d(this);o.find("optgroup").each(function(){var n,a=d(this);"custom-fonts"===a.data("type")&&(n=wp.customize.control(o.data("control-name")).settings["font-family"].get(),a.empty(),d.each(l,function(o,e){var t=e.name===n?' selected="selected"':"";a.append('<option name="'+e.name+'"'+t+">"+e.name+"</option>")}))}),o.select2("destroy"),o.select2()})}),d(document).on("change",".emoza-custom-font-item-input",function(o){var e=d(this).closest(".emoza-custom-fonts-control");d(document).trigger("emoza-custom-font-update",[e])}),d(document).on("click",".emoza-custom-font-upload",function(o){o.preventDefault();var e=d(this),t=window.wp.media({library:{type:e.data("type")||"image"}}).open();t.on("select",function(){var o=t.state().get("selection").first().toJSON();e.prev(".emoza-custom-font-item-input").val(o.url).trigger("change")})}),d(document).on("click",".emoza-custom-font-add",function(o){var e=d(this).closest(".emoza-custom-fonts-control"),t=e.find(".emoza-custom-font-items"),n=e.find(".emoza-custom-font-item").first().clone();n.removeClass("hidden"),t.append(n),d(document).trigger("emoza-custom-font-update",[e])}),d(document).on("click",".emoza-custom-font-remove",function(o){var e=d(this),t=e.closest(".emoza-custom-font-item"),e=e.closest(".emoza-custom-fonts-control");t.remove(),d(document).trigger("emoza-custom-font-update",[e])})}),jQuery(document).ready(function(n){n(".range-slider__range").on("change input emoza.range",function(){var o=n(this),e=o.val()||0,t=o.attr("min")||0,e=(e-t)/((o.attr("max")||1)-t)*100;o.css({background:"linear-gradient(to right, #2271b1 0%, #2271b1 "+e+"%, #ddd "+e+"%, #ddd 100%)"})}).trigger("emoza.range"),n(".range-slider__value").on("change input",function(){var o=n(this).prev();o.hasClass("range-slider__range")&&o.trigger("emoza.range")})}),jQuery(document).ready(function(s){var o=s(".emoza-typography-preview");o.length&&o.each(function(o){var c=s(this),e=c.data("options");s.each(e,function(e,r){var t;"google_font"===e?wp.customize(r,function(o){o.bind(function(o){var e=(o=s.parseJSON(o)).font||"",o=o.regularweight||400,t=e.replace(/ /g,"-").toLowerCase()+"-"+o,n="https://fonts.googleapis.com/css?family="+e.replace(/ /g,"+")+":"+o+"&display=swap";0===s("#"+t).length&&s("head").append('<link id="'+t+'" href="'+n+'" rel="stylesheet">'),c.css("font-family",e),c.css("font-weight",o)})}):"adobe_font"===e?wp.customize(r,function(o){o.bind(function(o){(o=o.split("|"))[0]&&c.css("font-family",o[0]),o[1]&&c.css("font-weight",o[1].replace("n4","400"))})}):"custom_font"===e?(t=function(o,n){var e=wp.customize.control(r+"_typography"),t=_wpCustomizeSettings.controls[r+"_typography"],a=e.settings["font-family"].get(),i=e.settings["font-weight"].get();c.css("font-weight","normal"),t&&t.google_fonts&&s.map(t.google_fonts,function(o,e){var t;o.family===a&&("family"===n&&(i=o.variants[0]),o=a.replace(/ /g,"-").toLowerCase()+"-"+i,t="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+i+"&display=swap",0===s("#"+o).length&&s("head").append('<link id="'+o+'" href="'+t+'" rel="stylesheet">'),c.css("font-weight",i))}),c.css("font-family",o)},wp.customize(r,function(o){o.bind(function(o){t(o,"family")})}),wp.customize(r+"_weight",function(o){o.bind(function(o){t(o,"weight")})})):wp.customize(r,function(o){o.bind(function(o){""!==o&&isFinite(o)&&(o=Number(o)),c.css(e,o)})})})})}),jQuery(document).ready(function(r){var o=r(".emoza-color-control");o.length&&Pickr&&(Pickr.prototype.setSwatches=function(o){var e=this;if(o.length){for(var t=this._swatchColors.length-1;-1<t;t--)this.removeSwatch(t);o.forEach(function(o){return e.addSwatch(o)})}},o.each(function(){var o,a=r(this),i=a.find(".emoza-color-picker");i.on("click",function(){var e,t,n;o||(e=a.find(".emoza-color-input"),t=wp.customize(e.data("customize-setting-link")),(n=new Pickr({el:i.get(0),container:"body",theme:"emoza-woocommerce",default:e.val()||"#212121",swatches:[],position:"bottom-end",appClass:"emoza-pcr-app",sliders:"h",useAsButton:!0,components:{hue:!0,preview:!0,opacity:!0,interaction:{input:!0,clear:!0}},i18n:{"btn:clear":"Default"}})).on("change",function(o){o=(1===o.a?(n.setColorRepresentation("HEX"),o.toHEXA()):(n.setColorRepresentation("RGBA"),o.toRGBA())).toString(0);i.css({"background-color":o}),e.val(o),t.set(o)}),n.on("show",function(){var o,e;n.setSwatches((o=wp.customize.control("custom_palette_toggle").setting.get(),e=[],o?r("#customize-control-custom_palette .emoza-color-input").each(function(){e.push(r(this).val())}):r("#customize-control-color_palettes .saved-palette .palette-color").each(function(){e.push(r(this).css("background-color"))}),e))}),n.on("clear",function(){var o=i.data("default-color");o?n.setColor(o):(i.css({"background-color":"white"}),e.val(""),t.set(""))}),i.data("pickr",n),setTimeout(function(){n.show()}),o=!0)})}))}),jQuery(document).ready(function(t){t("#customize-control-reset_colors").on("click",function(){var o=t(".palette-radio-buttons").find("label").first(),e=wp.customize("color_palettes");o.trigger("click"),o.find(".palette").trigger("click"),e.set(""),e.set("palette1")})}),function(i){var o={init:function(){this.events()},events:function(){i(".emoza-dimensions-control").find(".emoza-dimensions-input").on("input",this.setDimensionValue.bind(this)),i(".emoza-dimensions-control").find(".emoza-dimensions-unit").on("change",this.unitSelectHandler.bind(this)),i(".emoza-dimensions-control").find(".emoza-dimensions-link-btn").on("click",this.toggleLinkValues.bind(this))},setDimensionValue:function(o){var e=i(o.target).closest(".emoza-dimensions-inputs").find(".emoza-dimensions-value"),o=this.getDimensionValue(o.target);e.val(o).trigger("change")},getDimensionValue:function(o){var e,t=i(o).closest(".emoza-dimensions-inputs").data("device-type"),n=i(o).closest(".emoza-dimensions-inputs").find(".emoza-dimensions-input"),a={unit:"px",linked:!1,top:"",right:"",bottom:"",left:""};return a.unit=i(o).closest(".emoza-dimensions-control").find('.emoza-dimensions-units[data-device-type="'+t+'"] .emoza-dimensions-unit').val(),a.linked=i(o).closest(".emoza-dimensions-control").find('.emoza-dimensions-link-values[data-device-type="'+t+'"]').hasClass("linked"),a.linked?(e=i(o).val(),a.top=e,a.right=e,a.bottom=e,a.left=e,n.each(function(){i(this).val(e)})):n.each(function(){var o=i(this).data("side"),e=i(this).val();a[o]=e}),JSON.stringify(a)},unitSelectHandler:function(o){var e=i(o.target),o=i(o.target).closest(".emoza-dimensions-units").data("device-type");e.closest(".emoza-dimensions-control").find('.emoza-dimensions-inputs[data-device-type="'+o+'"] .emoza-dimensions-input-wrapper:first-child .emoza-dimensions-input').trigger("change")},toggleLinkValues:function(o){o.preventDefault();var e=i(o.target),o=i(o.target).closest(".emoza-dimensions-link-values").data("device-type");e.closest(".emoza-dimensions-link-values").toggleClass("linked"),e.closest(".emoza-dimensions-control").find('.emoza-dimensions-inputs[data-device-type="'+o+'"] .emoza-dimensions-input-wrapper:first-child .emoza-dimensions-input').trigger("change")}};i(document).ready(function(){o.init()})}(jQuery);